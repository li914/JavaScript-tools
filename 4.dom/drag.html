<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="./eventUtil.js"> </script>
        <style>
        #droptarget{
            width: 100px;
            height: 100px;
            background: #fac;
        }
        </style>
    </head>
    <body>
    <div id="droptarget"></div>
    <script>
        var droptarget = document.getElementById("droptarget");
        EventUtil.addListener(droptarget, "dragover", function(event){
            EventUtil.preventDefault(event);
        });
        EventUtil.addListener(droptarget, "dragenter", function(event){
            EventUtil.preventDefault(event);
        });
        EventUtil.addListener(droptarget, "drop", function(event){
            EventUtil.preventDefault(event);
        });

function addQueryStringArg(url, name, value){
if (url.indexOf("?") == -1){
url += "?";
} else {
url += "&";
}
url += encodeURIComponent(name) + "=" + encodeURIComponent(value);
return url;
}
        var url = "http://www.somedomain.com";
var newUrl = addQueryStringArg(url, "redir",
"http://www.someotherdomain.com?a=b&c=d");
// alert(newUrl);
// 创建打印到页面的错误日志
function log(message){
var console = document.getElementById("debuginfo");
if (console === null){
console = document.createElement("div");
console.id = "debuginfo";
console.style.background = "#dedede";
console.style.border = "1px solid silver";
console.style.padding = "5px";
console.style.width = "400px";
console.style.position = "absolute";
console.style.right = "0px";
console.style.top = "0px";
document.body.appendChild(console);
}
console.innerHTML += "<p>" + message + "</p>";
}
log('kkkkk')

var book = {
"title": "Professional JavaScript",
"authors": [
"Nicholas C. Zakas"
],
edition: 3,
year: 2011
};
var jsonText = JSON.stringify(book, ["title", "edition"]);
var jsonText = JSON.stringify(book, function(key, value){
switch(key){
case "authors":
return value.join(",")
case "year":
return 5000;
case "edition":
return undefined;
default:
return value;
}
});
console.log(jsonText)
    </script>
    </body>
</html>